module ApplicationHelper
  include Pagy::Frontend

  def country_to_language(country)
    return "en" unless country.present?
    return country if ["en", "fr"].include?(country)

    country_languages = LANGUAGES[country]
    country_languages.min
    if country_languages.include?("en")
      "en"
    elsif country_languages.include?("fr")
      "fr"
    else
      I18n.default_locale
    end
  end

  LANGUAGES = {
    "ae" => ["ar", "en"],
    "af" => ["fa", "ps"],
    "ag" => ["en"],
    "ai" => ["en"],
    "al" => ["sq"],
    "am" => ["hy"],
    "ao" => ["pt"],
    "aq" => ["en"],
    "ar" => ["es"],
    "as" => ["en"],
    "at" => ["de"],
    "au" => ["en"],
    "aw" => ["nl"],
    "ax" => ["fi", "se"],
    "az" => ["az"],
    "ba" => ["bs", "hr", "sr"],
    "bb" => ["en"],
    "bd" => ["bn"],
    "be" => ["fr", "nl", "de"],
    "bf" => ["fr"],
    "bg" => ["bg"],
    "bh" => ["ar", "en"],
    "bi" => ["fr"],
    "bj" => ["fr"],
    "bm" => ["en"],
    "bn" => ["ms"],
    "bo" => ["es", "qu"],
    "br" => ["pt"],
    "bs" => ["en"],
    "bt" => ["dz"],
    "bv" => ["no", "nb", "nn", "sv", "fi", "se"],
    "bw" => ["en", "tn"],
    "by" => ["be", "ru"],
    "bz" => ["en"],
    "ca" => ["en", "fr", "es"],
    "cc" => ["en"],
    "cd" => ["fr"],
    "cf" => ["fr"],
    "cg" => ["fr"],
    "ch" => ["de"],
    "ci" => ["fr"],
    "ck" => ["en", "ms"],
    "cl" => ["es"],
    "cm" => ["fr"],
    "cn" => ["zh"],
    "co" => ["es"],
    "cr" => ["es"],
    "cu" => ["es"],
    "cv" => ["pt"],
    "cx" => ["en"],
    "cy" => ["el", "tr"],
    "cz" => ["cs"],
    "de" => ["de"],
    "dj" => ["fr"],
    "dk" => ["da"],
    "dm" => ["en"],
    "do" => ["es"],
    "dz" => ["ar"],
    "ec" => ["es"],
    "ee" => ["et"],
    "eg" => ["ar"],
    "eh" => ["ar"],
    "er" => ["ti", "en"],
    "es" => ["es"],
    "et" => ["en"],
    "fi" => ["fi"],
    "fj" => ["en"],
    "fk" => ["en"],
    "fm" => ["en"],
    "fo" => ["fo"],
    "fr" => ["fr"],
    "ga" => ["fr"],
    "gb" => ["en"],
    "gd" => ["en"],
    "ge" => ["ka"],
    "gf" => ["fr"],
    "gg" => ["en"],
    "gh" => ["en"],
    "gi" => ["en"],
    "gl" => ["kl", "da"],
    "gm" => ["en"],
    "gn" => ["fr"],
    "gp" => ["fr"],
    "gq" => ["es"],
    "gr" => ["el"],
    "gs" => ["en"],
    "gt" => ["es"],
    "gu" => ["en"],
    "gw" => ["pt"],
    "gy" => ["en"],
    "hk" => ["zh"],
    "hm" => ["en"],
    "hn" => ["es"],
    "hr" => ["hr"],
    "ht" => ["fr"],
    "hu" => ["hu"],
    "id" => ["id"],
    "ie" => ["en"],
    "il" => ["he"],
    "im" => ["en"],
    "in" => ["en"],
    "io" => ["en"],
    "iq" => ["ar"],
    "ir" => ["fa"],
    "is" => ["is"],
    "it" => ["it"],
    "je" => ["en"],
    "jm" => ["en"],
    "jo" => ["ar"],
    "jp" => ["ja"],
    "ke" => ["sw", "en"],
    "kg" => ["ky", "ru"],
    "kh" => ["km", "en"],
    "ki" => ["en"],
    "km" => ["fr", "ar"],
    "kn" => ["en"],
    "kp" => ["ko"],
    "kr" => ["ko"],
    "kw" => ["ar"],
    "ky" => ["en"],
    "kz" => ["kk", "ru"],
    "la" => ["lo"],
    "lb" => ["ar", "fr"],
    "lc" => ["en"],
    "li" => ["de"],
    "lk" => ["si", "ta"],
    "lr" => ["en"],
    "ls" => ["en"],
    "lt" => ["lt"],
    "lu" => ["lb", "fr", "de"],
    "lv" => ["lv"],
    "ly" => ["ar"],
    "ma" => ["ar"],
    "mc" => ["fr"],
    "md" => ["ru", "uk", "ro"],
    "me" => ["sr", "sq", "bs", "hr", "sr"],
    "mg" => ["fr", "mg"],
    "mh" => ["en"],
    "mk" => ["mk"],
    "ml" => ["fr"],
    "mm" => ["my"],
    "mn" => ["mn"],
    "mo" => ["zh", "pt"],
    "mp" => ["en"],
    "mq" => ["fr"],
    "mr" => ["ar"],
    "ms" => ["en"],
    "mt" => ["mt"],
    "mu" => ["fr"],
    "mv" => ["dv"],
    "mw" => ["en", "ny"],
    "mx" => ["es"],
    "my" => ["ms", "en"],
    "mz" => ["pt"],
    "na" => ["en"],
    "nc" => ["fr"],
    "ne" => ["fr"],
    "nf" => ["en"],
    "ng" => ["en"],
    "ni" => ["es"],
    "nl" => ["nl"],
    "no" => ["nb", "nn", "no"],
    "np" => ["ne"],
    "nr" => ["en"],
    "nu" => ["niu", "en"],
    "nz" => ["en"],
    "om" => ["ar"],
    "pa" => ["es"],
    "pe" => ["es"],
    "pf" => ["fr"],
    "pg" => ["en"],
    "ph" => ["en"],
    "pk" => ["ur"],
    "pl" => ["pl"],
    "pm" => ["fr"],
    "pn" => ["en"],
    "pr" => ["es"],
    "ps" => ["ar"],
    "pt" => ["pt"],
    "pw" => ["en"],
    "py" => ["es"],
    "qa" => ["ar"],
    "re" => ["fr"],
    "ro" => ["ro"],
    "rs" => ["sr"],
    "ru" => ["ru"],
    "rw" => ["fr", "en"],
    "sa" => ["ar"],
    "sb" => ["en"],
    "sc" => ["fr"],
    "sd" => ["ar"],
    "se" => ["sv"],
    "sg" => ["zh", "en"],
    "sh" => ["en"],
    "si" => ["sl"],
    "sj" => ["no"],
    "sk" => ["sk"],
    "sl" => ["en"],
    "sm" => ["it"],
    "sn" => ["fr"],
    "so" => ["so"],
    "sr" => ["nl"],
    "ss" => ["en"],
    "st" => ["pt"],
    "sv" => ["es"],
    "sx" => ["nl"],
    "sy" => ["ar"],
    "sz" => ["en"],
    "tc" => ["en"],
    "td" => ["fr", "ar"],
    "tf" => ["fr"],
    "tg" => ["fr"],
    "th" => ["th"],
    "tj" => ["tg", "ru"],
    "tk" => ["en"],
    "tl" => ["pt", "tl"],
    "tm" => ["tk", "ru"],
    "tn" => ["ar"],
    "to" => ["en"],
    "tr" => ["tr"],
    "tt" => ["en"],
    "tv" => ["en"],
    "tw" => ["zh"],
    "tz" => ["sw", "en"],
    "ua" => ["uk"],
    "ug" => ["en", "sw"],
    "um" => ["en"],
    "us" => ["en"],
    "uy" => ["es"],
    "uz" => ["uz", "ru"],
    "va" => ["it"],
    "vc" => ["en"],
    "ve" => ["es"],
    "vg" => ["en"],
    "vi" => ["en"],
    "vn" => ["vi"],
    "vu" => ["fr"],
    "wf" => ["fr"],
    "ws" => ["en"],
    "ye" => ["ar"],
    "yt" => ["fr"],
    "za" => ["af"],
    "zm" => ["en"],
    "zw" => ["en"]
  }
end
